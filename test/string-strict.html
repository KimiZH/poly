<!DOCTYPE HTML>
<html lang="en">

<head>
<title>string tests</title>

<script>

curl = {
	baseUrl: '../',
	paths: {
		curl: 'test/curl'
	},
	plugins: {
		poly: {
			strictWhitespace: true
		}
	},
	packages: [
		{ name: 'poly', location: '.', main: 'poly' }
	]
};

</script>

<script src="curl.js"></script>

<script>

var natives = {
	trim: String.prototype.trim,
	trimRight: String.prototype.trimRight,
	trimLeft: String.prototype.trimLeft
};

curl(['test/testutils', 'poly!poly/string'], runTests);


	function runTests (tester) {
		var whitespaceChars;

		whitespaceChars = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029'.split('');

		// ensure this browser is using polyfilled string methods
		if (natives.trim) {
			tester.assertFalse('strictWhitespace should shim string.trim in all browsers', function () {
				return ''.trim == natives.trim;
			});
		}

		// strict whitespace \u1680\u180E\u2000
		for (var i in whitespaceChars) {
			tester.assertEquals('strictWhitespace should remove 0x' + toHex(whitespaceChars[i]), function () {
				return (whitespaceChars[i] + 'tomfoolery' + whitespaceChars[i]).trim();
			}, 'tomfoolery');
		}
	}

	function toHex (ch) {
		return ch.charCodeAt(0).toString(16);
	}

toHex(' ');

</script>

</head>

<body>

<div id="output"></div>

</body>
</html>
